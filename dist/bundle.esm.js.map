{"version":3,"file":"bundle.esm.js","sources":["../src/index.js"],"sourcesContent":["import koaStatic from 'koa-static';\nimport { resolve as pathResolve } from 'path';\n\nexport default function lift(...staticPaths) {\n  staticPaths.forEach((path) => {\n    if (typeof path !== 'undefined') {\n      this.app.use(koaStatic(path));\n    }\n  });\n\n  if (!this.config.paths) {\n    return;\n  }\n\n  let arr = [];\n  if (this.config.paths.public) {\n    arr.push({\n      root: this.config.paths.public,\n      opts: this.config.paths.opts,\n    });\n  }\n\n  if (this.config.paths.static) {\n    if (!Array.isArray(this.config.paths.static)) {\n      arr.push(this.config.paths.static);\n    }\n    else {\n      arr.push(...this.config.paths.static);\n    }\n  }\n\n  arr.forEach((item) => {\n    if (!item || !item.root) {\n      return;\n    }\n\n    let path = pathResolve(this.projectPath, item.root);\n    this.app.use(koaStatic(path, item.opts));\n  });\n}\n"],"names":["lift","staticPaths","forEach","path","app","use","koaStatic","config","paths","arr","public","push","opts","static","Array","isArray","item","root","pathResolve","projectPath"],"mappings":";;;AAGe,SAASA,IAAT,CAAc,GAAGC,WAAjB,EAA8B;cAC/BC,OAAZ,CAAqBC,IAAD,IAAU;QACxB,OAAOA,IAAP,KAAgB,WAApB,EAAiC;WAC1BC,GAAL,CAASC,GAAT,CAAaC,UAAUH,IAAV,CAAb;;GAFJ;;MAMI,CAAC,KAAKI,MAAL,CAAYC,KAAjB,EAAwB;;;;MAIpBC,MAAM,EAAV;;MACI,KAAKF,MAAL,CAAYC,KAAZ,CAAkBE,MAAtB,EAA8B;QACxBC,IAAJ,CAAS;YACD,KAAKJ,MAAL,CAAYC,KAAZ,CAAkBE,MADjB;YAED,KAAKH,MAAL,CAAYC,KAAZ,CAAkBI;KAF1B;;;MAME,KAAKL,MAAL,CAAYC,KAAZ,CAAkBK,MAAtB,EAA8B;QACxB,CAACC,MAAMC,OAAN,CAAc,KAAKR,MAAL,CAAYC,KAAZ,CAAkBK,MAAhC,CAAL,EAA8C;UACxCF,IAAJ,CAAS,KAAKJ,MAAL,CAAYC,KAAZ,CAAkBK,MAA3B;KADF,MAGK;UACCF,IAAJ,CAAS,GAAG,KAAKJ,MAAL,CAAYC,KAAZ,CAAkBK,MAA9B;;;;MAIAX,OAAJ,CAAac,IAAD,IAAU;QAChB,CAACA,IAAD,IAAS,CAACA,KAAKC,IAAnB,EAAyB;;;;QAIrBd,OAAOe,QAAY,KAAKC,WAAjB,EAA8BH,KAAKC,IAAnC,CAAX;SACKb,GAAL,CAASC,GAAT,CAAaC,UAAUH,IAAV,EAAgBa,KAAKJ,IAArB,CAAb;GANF;;;;;"}